# Agent Change Logs

## [v0.0.1] 2026.01.14 - now

- 初始化项目，创建基础架构和文件夹结构。
- 在 `lib/src/app.dart` 新增基础页面框架，包含训练计划与历史记录的底部导航栏。
- 创建 `lib/src/models`、`lib/src/services`、`lib/src/provider`、`lib/src/view` 目录并将页面拆分到 view 下。
- 设计训练计划页面样式，新增训练计划状态管理与模型，并将页面迁移到 `lib/src/view/training`。
- 调整训练页面布局，让蓝色头部覆盖状态栏区域并统一状态栏样式。
- 移除应用壳层 AppBar，避免覆盖训练页顶部设计。
- 训练页面头部改为可滚动折叠的紧凑模式，滚动时切换为横向布局。
- 训练页头部改为随页面滚动，并在滚动超过阈值时展示紧凑模式头部。
- 修复训练页顶部头部组件的变量重复与布局语法错误。
- 训练页顶部蓝色内容块改为最小高度约束，避免布局溢出报错。
- 移除训练计划列表与新增逻辑，精简训练页面结构与状态。
- 移除训练页顶部蓝色内容块的折叠/紧凑模式切换逻辑。
- 重构训练时长调整卡片为滚动选择分钟与秒，限制范围并保留循环调整卡片。
- 回退训练时长滚动选择改动，恢复原有加减按钮布局。
- 训练计划数值卡片的名称与时间信息改为水平排列。
- 训练计划数值卡片文字区域改为垂直居中并基线对齐。
- 训练计划名称输入框增加边框与编辑图标强化可编辑提示。
- 训练计划名称输入框改为下划线样式并在末尾增加编辑图标。
- 训练计划名称输入框收缩为文字宽度，图标更贴近且下划线不再超出文字。
- 训练计划名称输入框提示文字改为灰色，下划线宽度随当前显示文本变化。
- 训练计划名称输入框增加左右 6 的内边距。
- 训练计划名称输入框下划线宽度包含左右内边距。
- 训练计划页面顶部改为 SliverAppBar 承载可展开头部。
- 训练计划页修正头部溢出并在折叠时改为水平布局与蓝牙图标按钮。
- 训练计划页头部移除额外顶部内边距，改用 SafeArea 处理安全区域。
- 训练计划页将 SliverAppBar 相关尺寸参数集中管理便于调整。
- 训练计划页顶部高度改为根据头部内容自动测量适配。
- 训练计划页折叠态内容改为 SliverAppBar 标题层展示以避免滚动异常。
- 清理训练计划页头部未使用的折叠参数与分支逻辑。
- 训练计划页开始按钮固定在底部并为滚动内容预留空间。
- 将训练计划页面重命名为计时训练页面，并同步更新页面类名与引用。
- 训练页新增计划选择弹窗，支持选择计划、编辑排序、批量删除与新增计划。
- 训练页调整计划内容后自动同步到计划列表，并完善默认计划与编辑状态退出逻辑。
- 修正训练页监听状态的时机，避免启动时因 Riverpod 监听异常导致空白页面。
- 计划选择弹窗新增编辑态全选按钮，并优化默认计划删除后的自动创建与弹窗尺寸上限。
- 调整计划选择弹窗布局计算，避免弹窗打开时布局卡顿并完善删除默认计划后的自动退出。
- 计划选择弹窗在未达上限时禁用滚动，并在编辑态隐藏标题且对齐左右按钮宽度。
- 训练页名称输入支持多行显示，计划弹窗列表项根据名称长度自适应高度。
- 训练页与计划弹窗名称在可容纳时保持单行，超出宽度后自动换行并扩展高度。
- 修正弹窗列表宽度计算，确保超长名称导致的行高变化参与滚动判断。
- 修复弹窗列表高度未计入内边距导致内容截断的问题。
- 校准列表行高计算，纳入分隔线与复选框高度避免末项被裁切。
- 完全移除弹窗列表上下留白，并相应调整高度计算避免列表被遮挡。
- 计划选择弹窗改用 LayoutBuilder 取实际可用尺寸，并统一列表为可滚动以避免高度估算导致裁切。
- 计划选择弹窗高度上限调整为屏幕高度的 60%%，并清理未使用的尺寸参数。
- 计划选择弹窗关闭时同步当前激活计划到主页显示。
- 移除训练计划库状态中的 nextPlanNumber 字段及相关更新逻辑。
- 开始按钮改为圆形播放图标样式。
- 底部开始按钮改为固定圆形尺寸并居中，避免图标溢出影响布局。
- 底部开始按钮改为居中浮动按钮，避免占满整行并确保图标居中显示。
- 底部浮动按钮改为椭圆“开始”按钮样式。
